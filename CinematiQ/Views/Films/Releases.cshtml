@model X.PagedList.IPagedList<CinematiQ.Models.Entities.Movie>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="~/css/Filter/anime.css" asp-append-version="true" />
<script src="~/js/filterMovies.js"></script>

<title>Anime</title>

<div class="mb-4">
    <div class="h2">Остані релізи</div>
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a asp-controller="Films" asp-action="Index">Головна</a></li>
            <li class="breadcrumb-item active" aria-current="page">Анонси</li>
        </ol>
    </nav>
    <hr />
</div>

<div class="sect">
    <div class="sect-content" id="dle-content">
        @{
            if (Model.Any())
            {
                foreach (var movie in Model)
                {
                    <div class="short-item width-16">
                        <div class="short-cols fx-row">
                            <a class="short-img img-fit" asp-controller="Films" asp-action="Film" asp-route-id="@movie.Id">
                                <img class="lazyloaded" data-src="@movie.Poster" src="@movie.Poster" alt="@movie.Title">
                            </a>
                            <div class="th-title truncate" align="center">@movie.Title</div>
                        </div>
                    </div>  
                }
            }
        }
        
    </div>
</div>
<div class="pagination">
    @if (Model.PageCount > 1)
    {
        if (Model.HasPreviousPage)
        {
            <a class="pagination-arrow" asp-action="Movies" asp-route-pageSize="@Model.PageSize" asp-route-pageNumber="@(Model.PageNumber - 1)">&lt;</a>
        }

        @for (int i = 1; i <= 5 && i <= Model.PageCount; i++)
        {
            <a class="page-number @(i == Model.PageNumber ? "page-number-active" : "")" asp-action="Movies" asp-route-pageSize="@Model.PageSize" asp-route-pageNumber="@i">@i</a>
        }

        @if (Model.PageCount > 5)
        {
            if (Model.PageNumber > 5)
            {
                <span class="ellipsis">...</span>
            }
            <a class="page-number" asp-action="Movies" asp-route-pageSize="@Model.PageSize" asp-route-pageNumber="@Model.PageCount">@Model.PageCount</a>
        }

        if (Model.HasNextPage)
        {
            <a class="pagination-arrow" asp-action="Movies" asp-route-pageSize="@Model.PageSize" asp-route-pageNumber="@(Model.PageNumber + 1)">&gt;</a>
        }
    }
</div>